<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>乐享实习-群组管理</title>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit|ie-comp|ie-stand"/>
    <link href="../../assets/css/common/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../../assets/css/common/font-awesome.min.css"/>
    <link rel="stylesheet" href="../../assets/css/common/ace.min.css"/>
    <link rel="stylesheet" href="../../assets/css/common/ace-rtl.min.css"/>
    <link rel="stylesheet" href="../../assets/css/common/ace-skins.min.css"/>
    <link rel="stylesheet" href="../../assets/css/common/global.css">
    <link rel="stylesheet" href="../../assets/css/common/index.css">
    <link rel="stylesheet" href="../../assets/css/common/daterangepicker-bs3.css">
    <script src="../../assets/js/common/ace-extra.min.js"></script>
    <script src="../../assets/js/common/html5shiv.js"></script>
    <script src="../../assets/js/common/respond.min.js"></script>
    <script type="text/javascript">
        window.jQuery || document.write("<script src='../../assets/js/common/jquery-2.0.3.min.js'>" + "<" + "/script>");
    </script>
    <script type="text/javascript">
        window.jQuery || document.write("<script src='../../assets/js/jquery-1.10.2.min.js'>" + "<" + "/script>");
    </script>
    <script type="text/javascript">
        if ("ontouchend" in document) document.write("<script src='../../assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
    </script>
    <script src="../../assets/js/common/jquery.cookie.js"></script>
    <script src="../../assets/js/header.js"></script>
    <script src="../../assets/js/sidebar.js"></script>
    <script src="../../assets/js/jqGrid.js"></script>
    <script src="../../assets/js/common/bootstrap.min.js"></script>
    <script src="../../assets/js/common/typeahead-bs2.min.js"></script>
    <script src="../../assets/js/common/jquery.dataTables.min.js"></script>
    <script src="../../assets/js/common/jquery.dataTables.bootstrap.js"></script>
    <script src="../../assets/js/jqGrid/jquery.jqGrid.min.js"></script>
	<script src="../../assets/js/jqGrid/i18n/grid.locale-en.js"></script>
    <script src="../../assets/js/common/ace-elements.min.js"></script>
    <script src="../../assets/js/common/ace.min.js"></script>
    <script src="../../assets/js/date-time/daterangepicker.min.js"></script>
    <script src="../../assets/js/date-time/moment.min.js"></script>
    <script src="../../assets/js/function/cookie.js"></script>
    <script src="../../assets/js/common/common.js"></script>

    <script src="./groupManager.js"></script>

</head>

<body>

<div class="navbar navbar-default" id="navbar">

    <div class="navbar-container" id="navbar-container"></div>

</div>

<div class="main-container" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.check('main-container', 'fixed')
        } catch (e) {
        }
    </script>

    <div class="main-container-inner">
        <a class="menu-toggler" id="menu-toggler" href="#">
            <span class="menu-text"></span>
        </a>

        <div class="sidebar" id="sidebar"></div>

        <div class="main-content">

            <div class="page-content">
                <div class="page-header">
                    <h1>
                        	群组管理
                    </h1>
                </div><!-- /.page-header -->
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="m-row f-pr" style="margin-bottom: 5px;">
                            <div class="col-sm-4 col-lg-4">
                                <div class="m-tab">
                                    <div class="m-tabcell">
                                        <label style="width:80px;">群组名称：</label>
                                    </div>
                                    <div class="m-tabcell f-width">
                                        <input class="f-width u-h-30" id="student-keyword" name="title"
                                               placeholder="输入群组名称进行搜索" type="text">
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-3 col-lg-3">
                                <button class="btn-success u-btn u-h-30" id="btn-search" style="float:left;"><i class="icon-search bigger-100"></i> 搜索</button>
                                <button class="btn btn-info u-h-30 u-btn" onclick="group_add_dialog_fn();" style="float:left;margin-left: 5px;"><i class="icon-pencil bigger-100"></i> 新增群组</button>
                            </div>
                        </div>
                    </div>
					<div class="col-xs-12">

						<table id="grid-table"></table>

						<div id="grid-pager"></div>
					</div><!-- /.col -->
                </div>
                
                
            </div><!-- /.page-content -->

            <!--指导教师分配-->
            <div id="teacher_assign_dialog" class="m-popup" style="display: none">
                <div class="m-popup-box"
                     style="width:700px; height:435px;overflow:auto; margin-top:50px;">
                    <h2>分配班主任
                        <a href="javascript:void(0)" class="pull-right bigger-170 s-c999" style="margin-right:20px;"
                           id="closeSendNotice" onclick="close_dialog()">×</a>
                    </h2>
                    <div class="col-sm-12 col-lg-12 m-orgtable">
	                    	<table id="grid-teacher-group"></table>
	                    	<div id="pager-teacher-group"></div>
                        <div class="f-tr f-pb10" style="padding-top: 20px;">
                        	<div class="col-sm-5 col-lg-5">
                        		<label style="float:left;">已选择指导老师：</label>
                        		<label style="float:left;color:cornflowerblue;font-size: 18px;" id="choose_teacher"></label>
                        		<label style="display:none" id="choose_teacher_id"></label>
                        		<label style="display:none" id="choose_group_id"></label>
                        	</div>
                            <input id="makeSureSend" class="u-btn" value="确 定" onclick="update_classTeacher();" type="submit">&nbsp;&nbsp;
                            <input id="clearSend" onclick="close_dialog();" class="u-btn u-btn-2 " value="取 消" type="submit">
                        </div>
                    </div>
                </div>
            </div>
            <!--/ 指导教师分配 -->
            
            <!--新增群组-->
            <div id="group_add_dialog" class="m-popup" style="display: none">
                <div class="m-popup-box"
                     style="width:700px; height:485px;margin-top:50px;">
                    <h2>新增群组
                        <a href="javascript:void(0)" class="pull-right bigger-170 s-c999" style="margin-right:20px;"
                           id="closeSendNotice" onclick="close_add_dialog()">×</a>
                    </h2>
                    <form id="add_group_form">
	                	<div class="col-sm-12 col-lg-12 m-orgtable">
	                		<label class="col-sm-2 col-lg-2" style="float:left;">群组名称：</label>
	                		<input class="col-sm-6 col-lg-6" id="groupName" type="text"></input>
	                		<input style="display:none" id="teacherId"></label>
	                    </div>
                    </form>
                    <div class="col-sm-12 col-lg-12 m-orgtable">
	                    	<table id="grid-studengt-group"></table>
	                    	<div id="pager-studengt-group"></div>
                        <div class="f-tr f-pb10" style="padding-top: 20px;">
                        	<div class="col-sm-5 col-lg-5">
                        		<label style="float:left;">已选择指导老师：</label>
                        		<label style="float:left;color:cornflowerblue;font-size: 18px;" id="add_choose_teacher"></label>
                        	</div>
                            <input id="makeSureSend" class="u-btn" value="确 定" onclick="add_groupTeacher();" type="submit">&nbsp;&nbsp;
                            <input id="clearSend" onclick="close_add_dialog();" class="u-btn u-btn-2 " value="取 消" type="submit">
                        </div>
                    </div>
                </div>
            </div>
            <!--/ 新增群组 -->
            
            <!--编辑学生-->
            <div id="group_updateSt_dialog" class="m-popup" style="display: none">
                <div class="m-popup-box"
                     style="width:700px; height:525px;margin-top:50px;">
                    <h2>编辑群组学生
                        <a href="javascript:void(0)" class="pull-right bigger-170 s-c999" style="margin-right:20px;"
                           id="closeSendNotice" onclick="close_updateSt_dialog()">×</a>
                    </h2>
	                <input style="display:none" id="choose_groupSt_id"></label>
                    <div class="col-sm-12 col-lg-12 m-orgtable">
                    	<label class="col-sm-2 col-lg-2" style="float:left;">班 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;级：</label>
                    	<div class="col-sm-3 col-lg-3">
	                    	<div class="m-tabcell f-width">
		                        <select id="class_id" class="f-width dark" style="font-size:14px;">
		                        </select>
		                    </div>
	                    </div>
	                    <div class="col-sm-3 col-lg-3">
                            <button class="btn btn-success btn-sm u-btn u-h-30" onclick="search_student();" style="float:left;"><i class="icon-search align-top bigger-125"></i> 查询</button>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-12 m-orgtable">
	                    <div style="float:left;width:40%;">
		                    	<table id="grid-upStudent-group"></table>
		                    	<div id="pager-upStudent-group"></div>
	                    </div>
	                    <div style="float:left;width:100px;height:355px;">
	                    	<div onclick="add_student_toGrid();" style="width:28px;height:48px;margin-left: 50px;margin-top: 80px;cursor: pointer;background-image: url(../../assets/images/right_arrow.png);"></div><br/>
	                    	<div onclick="delete_student_toGrid();" style="width:28px;height:48px;margin-left: 50px;margin-top: 40px;cursor: pointer;background-image: url(../../assets/images/left_arrow.png);"></div>
	                    </div>
	                    <div style="float:left;width:40%;">
		                    	<table id="grid-upStudent-check-group"></table>
		                    	<div id="pager-upStudent-check-group"></div>
	                    </div>
                    </div>
                    <div class="col-sm-12 col-lg-12 m-orgtable" style="padding-top: 0px;">
                    	<input id="clearSend" style="float: right;margin-right: 10px;" onclick="close_updateSt_dialog();" class="u-btn u-btn-2 " value="取 消" type="submit">
                        <input id="makeSureSend" style="float: right;margin-right: 20px;" class="u-btn" value="确 定" onclick="add_groupStudent();" type="submit">&nbsp;&nbsp;
                    </div>
                </div>
            </div>
            <!--/ 编辑学生 -->
            
        </div><!-- /.main-content -->

    </div><!-- /.main-container-inner -->
	<input id="add_teacher_id" type="hidden">
    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="icon-double-angle-up icon-only bigger-110"></i>
    </a>
</div><!-- /.main-container -->

<!-- inline scripts related to this page -->

<script type="text/javascript">
    jQuery(function ($) {
        var oTable1 = $('#sample-table-2').dataTable({
            "aoColumns": [
                {"bSortable": false},
                null, null, null, null, null,
                {"bSortable": false}
            ]
        });


        $('table th input:checkbox').on('click', function () {
            var that = this;
            $(this).closest('table').find('tr > td:first-child input:checkbox')
                .each(function () {
                    this.checked = that.checked;
                    $(this).closest('tr').toggleClass('selected');
                });

        });


        $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
        function tooltip_placement(context, source) {
            var $source = $(source);
            var $parent = $source.closest('table')
            var off1 = $parent.offset();
            var w1 = $parent.width();

            var off2 = $source.offset();
            var w2 = $source.width();

            if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2)) return 'right';
            return 'left';
        }
    })
</script>

</body>
</html>

